{% extends 'blog/base.html' %}

{% block main_area %}
<div class="container my-3">
    <div class="row">
        <div class="col-md-8 col-lg-9">
            <h1>Blog</h1>

            {% for p in post_list %}
            <!-- Blog Post -->
            <div class="card mb-4">
                <!-- static 리소스 사용 -->
{#              <img class="card-img-top" src="{% static 'blog/images/soccer.jpg' %}" alt="Card image cap">#}
                {% if p.head_image %}
                    <img class="card-img-top" src="{{ p.head_image.url }}" alt="Card image cap">
                {% else %}
                    <p>이미지 없음!!</p>
                {% endif %}

                <div class="card-body">
                    <h2 class="card-title">[{{ p.category }}] {{ p.title}}</h2>
                    <p class="card-text">{{ p.content | truncatewords:10 }}</p>

                    {% if p.file_upload %}
                        <a href="{{ p.file_upload.url }}" class="btn btn-primary">Download {{ p.get_file_name }}</a>
                    {% endif %}
                    <a href="{{ p.get_absolute_url }}" class="btn btn-primary">Read More &rarr;</a>
                </div>
                <div class="card-footer text-muted">
                    Posted on {{ p.created_at}} by
                    <!-- p.author을 넣게 되면 User의 디폴트 __str()가 실행되어 글쓴이의 ID가 나오게 될것임 -->
                    <a href="#">{{ p.author }}</a>
                </div>
            </div>
            {% endfor %}


            <!-- Pagination -->
            <ul class="pagination justify-content-center mb-4">
                <li class="page-item">
                    <a class="page-link" href="#">&larr; Older</a>
                </li>
                <li class="page-item disabled">
                    <a class="page-link" href="#">Newer &rarr;</a>
                </li>
            </ul>

        </div>

        {% include 'blog/sidebar.html' %}
    </div>
</div>
{% endblock %}